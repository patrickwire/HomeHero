(this.webpackJsonphomehero=this.webpackJsonphomehero||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(10),c=a.n(l),i=(a(94),a(13)),o=(a(95),a(12)),s=a.n(o),u=a(35),m=a(23),d=a(163),E=a(153),h=function(e){var t=n.useState(""),a=Object(i.a)(t,2),r=a[0],l=a[1],c=n.useState(""),s=Object(i.a)(c,2),h=s[0],g=s[1],b=(n.useContext(ee),Object(u.f)());return n.createElement("div",null,n.createElement("h1",null,"Login"),n.createElement(d.a,{id:"outlined-basic",label:"email",variant:"outlined",type:"email",onChange:function(e){return l(e.target.value)},value:r}),n.createElement("br",null),n.createElement("br",null),n.createElement(d.a,{id:"outlined-basic",label:"password",variant:"outlined",type:"password",onChange:function(e){return g(e.target.value)},value:h}),n.createElement("br",null),n.createElement("br",null),n.createElement(E.a,{variant:"contained",color:"secondary",onClick:function(){try{Object(o.auth)().setPersistence(o.auth.Auth.Persistence.LOCAL);Object(o.auth)().signInWithEmailAndPassword(r,h);b.push("/")}catch(e){alert("wrong login")}}},"Login"),n.createElement("br",null),n.createElement(m.b,{to:"/register"},"Register"),n.createElement("br",null),n.createElement(m.b,{to:"/resetPassword"},"Reset Password"))},g=a(18),b=a(75),p=a(4),v=a(154),f=a(22),w=a(165),O=a(156),j=a(157),y=a(155),S=a(152),C=a(56),k=a(159),x=a(158),P=a(76),N=a.n(P),L=a(77),A=a.n(L),I=a(78),R=a.n(I),B=a(160),U=a(161),H=a(162),W=a(60),M=a.n(W),z=a(79),D=a.n(z),K=a(80),F=a.n(K),G=Object(v.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:240},title:{flexGrow:1},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(b.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-start"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),J=function(e){var t=G(),a=Object(f.a)(),n=r.a.useState(!1),l=Object(i.a)(n,2),c=l[0],s=l[1];return r.a.createElement("div",{className:t.root},r.a.createElement(y.a,null),r.a.createElement(O.a,{position:"fixed",className:Object(p.a)(t.appBar,Object(g.a)({},t.appBarShift,c))},r.a.createElement(j.a,null,r.a.createElement(C.a,{variant:"h6",noWrap:!0,className:t.title},"HomeHero"),r.a.createElement(x.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){s(!0)},className:Object(p.a)(c&&t.hide)},r.a.createElement(N.a,null)))),r.a.createElement("main",{className:Object(p.a)(t.content,Object(g.a)({},t.contentShift,c))},r.a.createElement("div",{className:t.drawerHeader})),r.a.createElement(w.a,{className:t.drawer,variant:"persistent",anchor:"right",open:c,classes:{paper:t.drawerPaper}},r.a.createElement("div",{className:t.drawerHeader},r.a.createElement(x.a,{onClick:function(){s(!1)}},"rtl"===a.direction?r.a.createElement(A.a,null):r.a.createElement(R.a,null))),r.a.createElement(k.a,null),r.a.createElement(S.a,null,r.a.createElement(m.b,{to:"/login"},r.a.createElement(B.a,{button:!0,key:"Login"},r.a.createElement(U.a,null,r.a.createElement(M.a,null)),r.a.createElement(H.a,{primary:"Login"}))),r.a.createElement(m.b,{onClick:function(){return Object(o.auth)().signOut()},to:"/logout"},r.a.createElement(B.a,{button:!0,key:"Logout"},r.a.createElement(U.a,null,r.a.createElement(M.a,null)),r.a.createElement(H.a,{primary:"Logout"})))),r.a.createElement(k.a,null),r.a.createElement(S.a,null,r.a.createElement(m.b,{to:"/"},r.a.createElement(B.a,{button:!0,key:"Home"},r.a.createElement(U.a,null,r.a.createElement(D.a,null)),r.a.createElement(H.a,{primary:"Home"}))),r.a.createElement(m.b,{to:"/about"},r.a.createElement(B.a,{button:!0,key:"About"},r.a.createElement(U.a,null,r.a.createElement(F.a,null)),r.a.createElement(H.a,{primary:"About"}))))))},Q=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),s=Object(i.a)(c,2),u=s[0],m=s[1],d=Object(n.useContext)(ee);return Object(n.useEffect)((function(){d.uid&&Object(o.firestore)().collection("users").doc(d.uid).get().then((function(e){if(e&&e.exists){var t=e.data();l(t.username),m(t.avatar)}}))}),[d]),r.a.createElement("div",null,r.a.createElement("h2",null,"Home"),""!==a&&"hello "+a,r.a.createElement("br",null),r.a.createElement("img",{src:u}))},T=function(){return n.createElement("h4",null,"signed out successfully")},X=a(54),Y=a(33),Z=a(81),$=a(82),_=function(e){Object($.a)(a,e);var t=Object(Z.a)(a);function a(){var e;Object(X.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={image:null,url:"",progress:0},e.handleUpload=function(){var t=e.state.image;null!==t&&Object(o.storage)().ref("images/".concat(t.name)).put(t).on("state_changed",(function(t){var a=Math.round(t.bytesTransferred/t.totalBytes*100);e.setState({progress:a})}),(function(e){console.log(e)}),(function(){Object(o.storage)().ref("images").child(t.name).getDownloadURL().then((function(t){e.setState({url:t}),e.props.onChange(t)}))}))},e}return Object(Y.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"center"},r.a.createElement("br",null),r.a.createElement("h2",{className:"green-text"},"React Firebase Image Uploader"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"row"},r.a.createElement("progress",{value:this.state.progress,max:"100",className:"progress"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{className:"file-field input-field"},r.a.createElement("div",{className:"btn"},r.a.createElement("span",null,"File"),r.a.createElement("input",{type:"file",accept:"image/*",onChange:function(t){if(t.target.files[0]){var a=t.target.files[0];a.size<1048576?e.setState((function(){return{image:a}})):alert("sorry, to big( max 1M)")}}})),r.a.createElement("div",{className:"file-path-wrapper"},r.a.createElement("input",{className:"file-path validate",type:"text"}))),r.a.createElement("button",{onClick:this.handleUpload,className:"waves-effect waves-light btn"},"Upload"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:this.state.url||"https://via.placeholder.com/400x300",alt:"Uploaded Images",height:"300",width:"400"}))}}]),a}(n.Component),q=function(){var e=r.a.useState(""),t=Object(i.a)(e,2),a=t[0],n=t[1],l=r.a.useState(""),c=Object(i.a)(l,2),s=c[0],h=c[1],g=r.a.useState(""),b=Object(i.a)(g,2),p=b[0],v=b[1],f=r.a.useState(""),w=Object(i.a)(f,2),O=w[0],j=w[1],y=(r.a.useContext(ee),Object(u.f)());return r.a.createElement("div",null,r.a.createElement("h1",null,"Register"),r.a.createElement(_,{onChange:function(e){return j(e)}}),r.a.createElement(d.a,{id:"outlined-basic",label:"username",variant:"outlined",onChange:function(e){return n(e.target.value)},value:a})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(d.a,{id:"outlined-basic",label:"email",variant:"outlined",type:"email",onChange:function(e){return h(e.target.value)},value:s})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(d.a,{id:"outlined-basic",label:"password",variant:"outlined",type:"password",onChange:function(e){return v(e.target.value)},value:p})," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement(E.a,{variant:"contained",color:"secondary",onClick:function(){try{Object(o.auth)().setPersistence(o.auth.Auth.Persistence.LOCAL),Object(o.auth)().createUserWithEmailAndPassword(s,p).then((function(e){var t;Object(o.firestore)().collection("users").doc(null===(t=e.user)||void 0===t?void 0:t.uid).set({username:a,avatar:O})})),y.push("/")}catch(e){alert("wrong login")}}},"Register"),r.a.createElement("br",null),r.a.createElement(m.b,{to:"/login"},"Login"))},V=function(e){var t=n.useState(""),a=Object(i.a)(t,2),r=a[0],l=a[1],c=n.useState(!1),s=Object(i.a)(c,2),u=s[0],m=s[1];return u?n.createElement("div",null,n.createElement("h1",null,"Reset Password"),"check your mail"):n.createElement("div",null,n.createElement("h1",null,"Reset Password"),n.createElement(d.a,{id:"outlined-basic",label:"password",variant:"outlined",type:"email",onChange:function(e){return l(e.target.value)},value:r})," ",n.createElement("br",null)," ",n.createElement("br",null),n.createElement(E.a,{variant:"contained",color:"secondary",onClick:function(){try{Object(o.auth)().setPersistence(o.auth.Auth.Persistence.LOCAL);Object(o.auth)().sendPasswordResetEmail(r).then((function(){m(!0)}))}catch(e){alert("wrong login")}}},"ResetPassword"))};s.a.initializeApp({apiKey:"AIzaSyDrQu6Ql1L0UhkPMYmM7KckxcK8XP7dZB4",authDomain:"homehero-75b1d.firebaseapp.com",databaseURL:"https://homehero-75b1d.firebaseio.com",projectId:"homehero-75b1d",storageBucket:"homehero-75b1d.appspot.com",messagingSenderId:"356618601963",appId:"1:356618601963:web:60312b641f8f21ca5445ae"});var ee=r.a.createContext({uid:"",loggedIn:!1});function te(){return r.a.createElement("h2",null,"About")}var ae=function(){var e=Object(n.useState)({uid:"",loggedIn:!1}),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(o.auth)().onAuthStateChanged((function(e){(null===e||void 0===e?void 0:e.uid)&&a.uid!==(null===e||void 0===e?void 0:e.uid)&&l({uid:(null===e||void 0===e?void 0:e.uid)||"",loggedIn:!0}),void 0===(null===e||void 0===e?void 0:e.uid)&&a.uid&&l({uid:"",loggedIn:!1})})),r.a.createElement("div",{className:"App"},r.a.createElement(ee.Provider,{value:a},r.a.createElement(m.a,null,r.a.createElement(J,null),r.a.createElement("div",null,r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/about"},r.a.createElement(te,null)),r.a.createElement(u.a,{path:"/login"},r.a.createElement(h,null)),r.a.createElement(u.a,{path:"/logout"},r.a.createElement(T,null)),r.a.createElement(u.a,{path:"/register"},r.a.createElement(q,null)),r.a.createElement(u.a,{path:"/resetPassword"},r.a.createElement(V,null)),r.a.createElement(u.a,{path:"/"},r.a.createElement(Q,null)))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));window.cordova?document.addEventListener("deviceready",(function(){c.a.render(r.a.createElement(ae,null),document.getElementById("root"))}),!1):c.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},89:function(e,t,a){e.exports=a(111)},94:function(e,t,a){},95:function(e,t,a){}},[[89,1,2]]]);
//# sourceMappingURL=main.6aa0facb.chunk.js.map